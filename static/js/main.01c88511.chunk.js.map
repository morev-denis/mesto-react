{"version":3,"sources":["images/header/__logo/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","href","target","src","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","link","name","type","onCardLike","length","setCardDelete","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","headers","serverUrl","this","_headers","_serverUrl","res","ok","json","Promise","reject","status","fetch","method","then","_handleResponse","all","getInitialCards","getUserInfo","body","JSON","stringify","id","unsetLike","setLike","authorization","PopupWithForm","isOpen","noValidate","onSubmit","title","children","isLoading","buttonLoadingName","buttonName","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","value","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","ConfirmDeletePopup","onConfirmDelete","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","cardDelete","closeAllPopups","initData","data","initialCards","userInfo","catch","err","console","log","Provider","onKeyDown","key","tabIndex","matches","logo","changeLikeCardStatus","newCard","state","c","setUserInfo","finally","updateAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01c88511.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.bbe2a6ea.svg\";","function Header(props) {\n  return (\n    <header className=\"header page__header\">\n      <a className=\"header__link\" href=\"./index.html\" target=\"_self\">\n        <img\n          className=\"header__logo\"\n          src={props.src}\n          alt=\"Логотип Mesto Russia\"\n        />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? \"element__delete_visible\" : \"element__delete_hidden\"\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.setCardDelete(props.card);\r\n    props.onCardDelete();\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <figure className=\"element__figure\">\r\n        <img\r\n          onClick={handleClick}\r\n          className=\"element__image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <figcaption className=\"element__caption\">\r\n          <h2 className=\"element__heading\">{props.card.name}</h2>\r\n          <div className=\"element__like-container\">\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              type=\"button\"\r\n              onClick={handleLikeClick}\r\n            />\r\n            <div className=\"element__like-number\">\r\n              {props.card.likes.length}\r\n            </div>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        onClick={handleDeleteClick}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile page__profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img\r\n            className=\"profile__avatar-img\"\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар\"\r\n          />\r\n          <button\r\n            onClick={props.onEditAvatar}\r\n            className=\"profile__button profile__button_action_edit-avatar\"\r\n          />\r\n        </div>\r\n        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n        <button\r\n          onClick={props.onEditProfile}\r\n          className=\"profile__button profile__button_action_edit\"\r\n          type=\"button\"\r\n        />\r\n        <p className=\"profile__job\">{currentUser.about}</p>\r\n        <button\r\n          onClick={props.onAddPlace}\r\n          className=\"profile__button profile__button_action_add\"\r\n          type=\"button\"\r\n        />\r\n      </section>\r\n\r\n      <section className=\"elements page__elements\">\r\n        <ul className=\"elements__grid\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n              setCardDelete={props.setCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">© 2021 Морев Денис</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_feat_image-fullsize ${\r\n        props.card ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container popup__container_feat_image-fullsize\">\r\n        <img\r\n          className=\"popup__image-fullsize\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__button popup__button_action_close popup__button_position_image-fullsize-close\"\r\n          type=\"button\"\r\n        />\r\n        <h2 className=\"popup__heading popup__heading_feat_image-fullsize\">\r\n          {props.card.name}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ headers, serverUrl }) {\r\n    this._headers = headers;\r\n    this._serverUrl = serverUrl;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  initData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  setUserInfo({ name, about, avatar }) {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${name}`,\r\n        about: `${about}`,\r\n        avatar: `${avatar}`,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  unsetLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    if (isLiked) {\r\n      return this.unsetLike(id);\r\n    } else {\r\n      return this.setLike(id);\r\n    }\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${name}`,\r\n        link: `${link}`,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  updateAvatar({ avatar }) {\r\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: `${avatar}`,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-20\",\r\n  headers: {\r\n    authorization: \"6d1b76d0-8a79-4ce2-87f0-35c2e1868bd2\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_feat_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <form\r\n        className={`popup__container popup__container_form popup__container_feat_${props.name}`}\r\n        name={`form-${props.name}`}\r\n        noValidate\r\n        onSubmit={props.onSubmit}\r\n      >\r\n        <button\r\n          onClick={props.onClose}\r\n          className={`popup__button popup__button_action_close popup__button_position_${props.name}-close`}\r\n          type=\"button\"\r\n        />\r\n        <h2 className={`popup__heading popup__heading_feat_profile-edit`}>\r\n          {props.title}\r\n        </h2>\r\n        {props.children}\r\n        <button\r\n          className={`popup__button popup__button_action_submit`}\r\n          type=\"submit\"\r\n        >\r\n          {props.isLoading ? props.buttonLoadingName : props.buttonName}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\"\r\n      title=\"Редактировать профиль\"\r\n      buttonName=\"Сохранить\"\r\n      buttonLoadingName=\"Сохранение...\"\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          id=\"profile-edit-input-name\"\r\n          className=\"popup__input popup__input_field_name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          name=\"profileName\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleChangeName}\r\n          value={name}\r\n        />\r\n        <span className=\"profile-edit-input-name-error popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          id=\"profile-edit-input-job\"\r\n          className=\"popup__input popup__input_field_job\"\r\n          type=\"text\"\r\n          placeholder=\"О себе\"\r\n          name=\"profileJob\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleChangeDescription}\r\n          value={description}\r\n        />\r\n        <span className=\"profile-edit-input-job-error popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = \"\";\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar-update\"\r\n      title=\"Обновить аватар\"\r\n      buttonName=\"Сохранить\"\r\n      buttonLoadingName=\"Сохранение...\"\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          id=\"avatar-update-input-link\"\r\n          className=\"popup__input popup__input_field_link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"avatar\"\r\n          required\r\n          ref={inputRef}\r\n        />\r\n        <span className=\"avatar-update-input-link-error popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleChangeCardName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeCardLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card-add\"\r\n      title=\"Новое место\"\r\n      buttonName=\"Создать\"\r\n      buttonLoadingName=\"Сохранение...\"\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input\r\n          id=\"card-add-input-name\"\r\n          className=\"popup__input popup__input_field_place\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          name=\"name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleChangeCardName}\r\n          value={name}\r\n        />\r\n        <span className=\"card-add-input-name-error popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input\r\n          id=\"card-add-input-link\"\r\n          className=\"popup__input popup__input_field_link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"link\"\r\n          required\r\n          onChange={handleChangeCardLink}\r\n          value={link}\r\n        />\r\n        <span className=\"card-add-input-link-error popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onConfirmDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card-delete\"\r\n      title=\"Вы уверены?\"\r\n      buttonName=\"Да\"\r\n      buttonLoadingName=\"Удаление...\"\r\n      isLoading={props.isLoading}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmDeletePopup;\r\n","import React from \"react\";\r\nimport logo from \"../images/header/__logo/header__logo.svg\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [\r\n    isConfirmDeletePopupOpen,\r\n    setIsConfirmDeletePopupOpen,\r\n  ] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [cardDelete, setCardDelete] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .initData()\r\n      .then((data) => {\r\n        const [initialCards, userInfo] = data;\r\n\r\n        setCurrentUser(userInfo);\r\n        setCards(initialCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDeleteClick() {\r\n    setIsConfirmDeletePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(false);\r\n    setIsConfirmDeletePopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo({ name, about })\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    setIsLoading(true);\r\n    api\r\n      .updateAvatar({ avatar })\r\n      .then((data) => {\r\n        setCurrentUser({\r\n          name: data.name,\r\n          about: data.about,\r\n          avatar: data.avatar,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleConfirmDelete() {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(cardDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== cardDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    setIsLoading(true);\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleEscClose(e) {\r\n    if (e.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function handleOverlayClose(e) {\r\n    if (e.target.matches(\".popup\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div\r\n        className=\"root\"\r\n        onKeyDown={handleEscClose}\r\n        tabIndex={0}\r\n        onClick={handleOverlayClose}\r\n      >\r\n        <div className=\"page\">\r\n          <Header src={logo} />\r\n          <Main\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDeleteClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            cards={cards}\r\n            setCards={setCards}\r\n            setCardDelete={setCardDelete}\r\n          />\r\n          <Footer />\r\n        </div>\r\n        <EditProfilePopup\r\n          isLoading={isLoading}\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isLoading={isLoading}\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isLoading={isLoading}\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ConfirmDeletePopup\r\n          isLoading={isLoading}\r\n          isOpen={isConfirmDeletePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onConfirmDelete={handleConfirmDelete}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}